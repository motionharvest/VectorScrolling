!function(t,e){"function"==typeof define&&define.amd?define(function(){return t.vs=e()}):"object"==typeof module&&module.exports?module.exports=t.vs=e():t.vs=e()}(this,function(){function t(t,e,n){var o={};for(i in e)o[i]=r.map(t,0,1,e[i],n[i]);return o.offset=t,o}function e(t){return t.nodeName?t:t[0].nodeName?t[0]:document.querySelector(t)}var r={normalize:function(t,e,r){return(t-e)/(r-e)},interpolate:function(t,e,r){return e+(r-e)*t},map:function(t,e,r,n,o){return t<e&&(t=e),t>r&&(t=r),this.interpolate(this.normalize(t,e,r),n,o)}};return function(n,o){function s(e){m=e,u=m+h,pWhenStart<=m+h*l.start.is&&pWhenEnd>m+h*l.end.is&&!O?(l.start.hasOwnProperty("call")&&!O&&(m>pTop?l.start.call(!1):l.start.call(!0)),O=!0):(pWhenStart>m+h*l.start.is||pWhenEnd<=m+h*l.end.is)&&O?(O=!1,pWhenEnd>m+h*l.end.is?(l.hasOwnProperty("scroll")&&(l.start.hasOwnProperty("vals")&&l.end.hasOwnProperty("vals")?l.scroll(l.start.vals):l.scroll({offset:0})),l.end.hasOwnProperty("call")&&l.end.call(!1)):(O=!1,l.hasOwnProperty("scroll")&&(l.start.hasOwnProperty("vals")&&l.end.hasOwnProperty("vals")?l.scroll(l.end.vals):l.scroll({offset:1})),l.end.hasOwnProperty("call")&&l.end.call(!0))):P&&(P=!1,l.scroll({offset:1})),O&&(track1=Math.floor(m+h*l.start.is-pWhenStart),track2=Math.floor(pWhenEnd-(m+h*l.end.is)),trackPerc=r.map(track1,0,track1+track2,0,1),l.hasOwnProperty("scroll")&&(l.start.hasOwnProperty("vals")&&l.end.hasOwnProperty("vals")?l.scroll(t(trackPerc,l.start.vals,l.end.vals)):l.scroll({offset:trackPerc})))}function a(t){w=window.scrollY,v||(window.requestAnimationFrame(function(){i(),s(w),v=!1}),v=!0)}function i(){h=window.innerHeight,m=w,u=Math.abs(m)+h,pTop=y.offsetTop,pHeight=y.clientHeight,pWhenStart=pTop+pHeight*l.start.when,pWhenEnd=pTop+pHeight*l.end.when}var l={trigger:void 0,start:"top bottom",end:"bottom top",override:!1},d={top:0,middle:.5,bottom:1};if(l.scroll=function(t){l.override||n.seek(n.totalDuration()*t.offset)},void 0!==o&&"object"==typeof o)for(var c in l)o.hasOwnProperty(c)&&("scroll"===c?(l.userScroll=o[c],l[c]=function(t){l.userScroll(t),l.override||n.seek(n.totalDuration()*t.offset)}):l[c]=o[c]);var p=l.start.split(" ");l.start={},p[0].indexOf("%")>-1?l.start.when=Number(p[0].split("%")[0])/100:l.start.when=d[p[0]],p[1].indexOf("%")>-1?l.start.is=Number(p[1].split("%")[0])/100:l.start.is=d[p[1]];var f=l.end.split(" ");l.end={},f[0].indexOf("%")>-1?l.end.when=Number(f[0].split("%")[0])/100:l.end.when=d[f[0]],f[1].indexOf("%")>-1?l.end.is=Number(f[1].split("%")[0])/100:l.end.is=d[f[1]];var h,u,w=window.scrollY,v=!1,m=(window,0),y=e(l.trigger),O=!1,P=!0;return window.addEventListener("scroll",a),window.addEventListener("resize",function(){i(),s(w)},{passive:!0}),i(),s(w),!1}});